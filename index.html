<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="style.css" />
<style>
pre#rain
{
	width: 120px;
	height: 120px;
	font-family: monospace;
}
</style>
	</head>
	<body>
		<pre id="rain">
		</pre>
		<canvas id="rainbg"></canvas>
		<script>
			var RAIN_SPEED = 10,
			    RAIN_DENSITY = 10, 
			    RAIN_HEIGHT = 20,
			    RAIN_COLS = 80;

			var rainElem = document.getElementById("rain");	
			
			var rainElemArr = [];

			function generateRainSeedString(rainStringLength, rainDensity) {
				var rainString = "";

				for (var i = 0; i < rainStringLength; i++) {
					if (Math.floor(Math.random() * Math.floor(100)) < rainDensity) {
						rainString += "\\";
					} else {
						rainString += " "
					}
				}

				return rainString;
			}

			function lightningAnimation(element) {
				backgroundColorSteps["#FFF", "#000", "#FFF", "#000", "#000"];
				foregroundColotSteps["#000", "#FFF", "#000", "#FFF", "#FFF"];


			}

			Array.prototype.rot = function () {
				this.unshift(" ");

				if (this.length > 20)
				{
					this.pop();
				}
			}

			String.prototype.rot = function () {
				var splitString = this.split("");

				splitString.rot();

				return splitString.join("");
			}

			while (RAIN_HEIGHT > 0)
			{
				rainElemArr.push("");
				RAIN_HEIGHT--;
			}

			setInterval(function () {
				var IH = "";
				rainElemArr[0] = generateRainSeedString(120, 5);
				rainElemArr.rot();
				for (var i = 0; i < rainElemArr.length; i++)
				{
					rainElemArr[i] = rainElemArr[i].rot();
					IH += rainElemArr[i] + "<br />";
				}
				rainElem.innerHTML = IH;
			}, 1000/60);

		</script>
	</body>
</html>
